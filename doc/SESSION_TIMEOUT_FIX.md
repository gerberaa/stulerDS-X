# üîß –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —á–∞—Å—É —Å–µ—Å—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

## üìã –ü—Ä–æ–±–ª–µ–º–∞

–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ —Å–∫–∞—Ä–∂–∏–ª–∏—Å—è, —â–æ —ó—Ö —Å–µ—Å—ñ—è –∑–∞–∫—ñ–Ω—á—É—î—Ç—å—Å—è –∑–∞–Ω–∞–¥—Ç–æ —à–≤–∏–¥–∫–æ –ø—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ –∫–Ω–æ–ø–æ–∫ –º–µ–Ω—é –≤ –±–æ—Ç—ñ.

## ‚úÖ –†—ñ—à–µ–Ω–Ω—è

### 1Ô∏è‚É£ –ó–º—ñ–Ω–µ–Ω–æ —á–∞—Å —Å–µ—Å—ñ—ó –∑ –≥–æ–¥–∏–Ω –Ω–∞ —Ö–≤–∏–ª–∏–Ω–∏

**–ë—É–ª–æ:** 24 –≥–æ–¥–∏–Ω–∏  
**–°—Ç–∞–ª–æ:** 5 —Ö–≤–∏–ª–∏–Ω

### 2Ô∏è‚É£ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–µ—Å—ñ—ó

–¢–µ–ø–µ—Ä –ø—Ä–∏ –∫–æ–∂–Ω—ñ–π –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ –±–æ—Ç–æ–º —á–∞—Å —Å–µ—Å—ñ—ó –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è, —â–æ –æ–∑–Ω–∞—á–∞—î:
- –Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∞–∫—Ç–∏–≤–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –±–æ—Ç–∞, —Å–µ—Å—ñ—è –ø—Ä–æ–¥–æ–≤–∂—É—î—Ç—å—Å—è
- –°–µ—Å—ñ—è –∑–∞–∫—ñ–Ω—á—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø—ñ—Å–ª—è 5 —Ö–≤–∏–ª–∏–Ω –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

### 3Ô∏è‚É£ –ß–∞—Å—Ç—ñ—à–µ –æ—á–∏—â–µ–Ω–Ω—è —Å–µ—Å—ñ–π

**–ë—É–ª–æ:** –∫–æ–∂–Ω—ñ 30 —Ö–≤–∏–ª–∏–Ω  
**–°—Ç–∞–ª–æ:** –∫–æ–∂–Ω—ñ 5 —Ö–≤–∏–ª–∏–Ω

## üîß –¢–µ—Ö–Ω—ñ—á–Ω—ñ –∑–º—ñ–Ω–∏

### `access_manager.py`

```python
# –ó–º—ñ–Ω–µ–Ω–æ –∑ –≥–æ–¥–∏–Ω –Ω–∞ —Ö–≤–∏–ª–∏–Ω–∏
"session_timeout_minutes": 5,  # –∑–∞–º—ñ—Å—Ç—å "session_timeout_hours": 24

# –î–æ–¥–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–µ—Å—ñ—ó
def is_authorized(self, telegram_id: int) -> bool:
    # ... –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–µ—Å—ñ—ó ...
    else:
        # –û–Ω–æ–≤–ª—é—î–º–æ —á–∞—Å –æ—Å—Ç–∞–Ω–Ω—å–æ—ó –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –ø—Ä–∏ –∫–æ–∂–Ω—ñ–π –ø–µ—Ä–µ–≤—ñ—Ä—Ü—ñ
        self.user_sessions[telegram_id] = datetime.now()
        logger.debug(f"–û–Ω–æ–≤–ª–µ–Ω–æ —Å–µ—Å—ñ—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ {telegram_id}")
```

### `access_data.json`

```json
{
  "settings": {
    "session_timeout_minutes": 5,  // –∑–∞–º—ñ—Å—Ç—å "session_timeout_hours": 24
    "max_login_attempts": 3
  }
}
```

### `bot.py`

```python
# –ó–º—ñ–Ω–µ–Ω–æ —ñ–Ω—Ç–µ—Ä–≤–∞–ª –æ—á–∏—â–µ–Ω–Ω—è —Å–µ—Å—ñ–π
job_queue.run_repeating(cleanup_access_sessions, interval=300, first=300)  # –ö–æ–∂–Ω—ñ 5 —Ö–≤–∏–ª–∏–Ω
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ –î–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:
- –°–µ—Å—ñ—è –∑–∞–∫—ñ–Ω—á—É–≤–∞–ª–∞—Å—è —á–µ—Ä–µ–∑ 24 –≥–æ–¥–∏–Ω–∏
- –ù–µ–º–∞—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
- –û—á–∏—â–µ–Ω–Ω—è —Å–µ—Å—ñ–π –∫–æ–∂–Ω—ñ 30 —Ö–≤–∏–ª–∏–Ω

### ‚úÖ –ü—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:
- –°–µ—Å—ñ—è –∑–∞–∫—ñ–Ω—á—É—î—Ç—å—Å—è —á–µ—Ä–µ–∑ 5 —Ö–≤–∏–ª–∏–Ω –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∏ –∫–æ–∂–Ω—ñ–π –≤–∑–∞—î–º–æ–¥—ñ—ó
- –û—á–∏—â–µ–Ω–Ω—è —Å–µ—Å—ñ–π –∫–æ–∂–Ω—ñ 5 —Ö–≤–∏–ª–∏–Ω
- –ö—Ä–∞—â–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è

## üì± –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î

### –°—Ü–µ–Ω–∞—Ä—ñ–π 1: –ê–∫—Ç–∏–≤–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á
1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∞–≤—Ç–æ—Ä–∏–∑—É—î—Ç—å—Å—è ‚Üí —Å–µ—Å—ñ—è —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è
2. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–∞—Ç–∏—Å–∫–∞—î –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é ‚Üí —Å–µ—Å—ñ—è –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è
3. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–µ—Ä–µ–≥–ª—è–¥–∞—î –ø—Ä–æ–µ–∫—Ç–∏ ‚Üí —Å–µ—Å—ñ—è –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è
4. –°–µ—Å—ñ—è –ø—Ä–æ–¥–æ–≤–∂—É—î—Ç—å—Å—è –ø–æ–∫–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∞–∫—Ç–∏–≤–Ω–∏–π

### –°—Ü–µ–Ω–∞—Ä—ñ–π 2: –ù–µ–∞–∫—Ç–∏–≤–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á
1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∞–≤—Ç–æ—Ä–∏–∑—É—î—Ç—å—Å—è ‚Üí —Å–µ—Å—ñ—è —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è
2. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ –≤–∑–∞—î–º–æ–¥—ñ—î –∑ –±–æ—Ç–æ–º 5 —Ö–≤–∏–ª–∏–Ω
3. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–≤–µ—Ä—à—É—î —Å–µ—Å—ñ—é
4. –ü—Ä–∏ –Ω–∞—Å—Ç—É–ø–Ω—ñ–π —Å–ø—Ä–æ–±—ñ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –ø–æ–≤—Ç–æ—Ä–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è

## üîç –õ–æ–≥—É–≤–∞–Ω–Ω—è

–¢–µ–ø–µ—Ä —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥—É—î:
- –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–µ—Å—ñ—ó –ø—Ä–∏ –∫–æ–∂–Ω—ñ–π –ø–µ—Ä–µ–≤—ñ—Ä—Ü—ñ
- –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Å–µ—Å—ñ–π —á–µ—Ä–µ–∑ —Ç–∞–π–º–∞—É—Ç
- –û—á–∏—â–µ–Ω–Ω—è –∑–∞–∫—ñ–Ω—á–µ–Ω–∏—Ö —Å–µ—Å—ñ–π

```
2025-09-13 17:05:00 - DEBUG - –û–Ω–æ–≤–ª–µ–Ω–æ —Å–µ—Å—ñ—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ 7595525097
2025-09-13 17:10:00 - INFO - –û—á–∏—â–µ–Ω–æ 1 –∑–∞–∫—ñ–Ω—á–µ–Ω–∏—Ö —Å–µ—Å—ñ–π
```

## üéâ –ü–µ—Ä–µ–≤–∞–≥–∏

‚úÖ **–ó—Ä—É—á–Ω—ñ—Å—Ç—å:** –°–µ—Å—ñ—è –Ω–µ –∑–∞–∫—ñ–Ω—á—É—î—Ç—å—Å—è –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–º—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ  
‚úÖ **–ë–µ–∑–ø–µ–∫–∞:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —á–µ—Ä–µ–∑ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å  
‚úÖ **–ï—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å:** –ß–∞—Å—Ç—ñ—à–µ –æ—á–∏—â–µ–Ω–Ω—è –∑–∞–π–≤–∏—Ö —Å–µ—Å—ñ–π  
‚úÖ **–í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è:** –ö—Ä–∞—â–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ  

–¢–µ–ø–µ—Ä –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –º–æ–∂—É—Ç—å —Å–ø–æ–∫—ñ–π–Ω–æ –Ω–∞—Ç–∏—Å–∫–∞—Ç–∏ –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é –±–µ–∑ —Å—Ç—Ä–∞—Ö—É, —â–æ —ó—Ö —Å–µ—Å—ñ—è –∑–∞–∫—ñ–Ω—á–∏—Ç—å—Å—è! üöÄ